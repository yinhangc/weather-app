(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{21:function(e,t,a){},79:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a(19),r=a.n(n),s=a(9),i=a(47),l=(a(21),a(22)),j=a(6),o=a(16),d=a(48),u=a(23),h=a(30),b=a(2),x=function(e){var t=e.search,a=e.invalidInput,n=e.setInvalidInput,r=Object(c.useState)(""),i=Object(s.a)(r,2),l=i[0],j=i[1];return Object(b.jsxs)("div",{children:[Object(b.jsx)(d.a,{onSubmit:function(e){e.preventDefault(),t(l),j("")},children:Object(b.jsxs)(h.a,{className:a?"mb-1":"mb-4",children:[Object(b.jsx)(u.a,{placeholder:"Search for a city...",value:l,onChange:function(e){j(e.target.value),n(!1)}}),Object(b.jsx)(h.a.Append,{children:Object(b.jsx)(o.a,{variant:"success pb-1",children:Object(b.jsx)("i",{className:"fas fa-search"})})})]})}),a?Object(b.jsx)("p",{className:"text-danger ml-1",children:"Invalid input! Please try again."}):""]})},m=a(43),p=function(e){var t=e.message;return Object(b.jsxs)("div",{className:"d-flex align-items-center justify-content-center p-4 bg-grey rounded",children:[Object(b.jsx)(m.a,{animation:"border",variant:"dark"}),Object(b.jsx)("h4",{style:{fontWeight:"400",letterSpacing:"0.4px"},className:"mb-n1 ml-2",children:t})]})},f=a(45),O=function(e){var t=e.data,a=e.location,c=e.userReject,n=e.cityId,r=Object(j.e)();if(!a&&!c&&!t)return Object(b.jsx)(p,{message:"Loading your location..."});if(!t&&!c)return Object(b.jsx)(p,{message:"Loading weather data..."});if(!t&&c)return Object(b.jsx)("div",{className:"d-flex flex-column align-items-center p-4 bg-grey rounded",children:Object(b.jsxs)("h4",{className:"mb-0",style:{color:"#595260"},children:[Object(b.jsx)("i",{className:"fas fa-search mr-2"}),"Search for a city for weather data!"]})});return Object(b.jsxs)("div",{className:"d-flex flex-column align-items-center p-4 bg-grey rounded",children:[Object(b.jsxs)("h2",{children:[t.name,", ",t.sys.country]}),Object(b.jsxs)("h3",{className:"mb-0",children:[t.main.temp,"\xb0C"]}),Object(b.jsx)("img",{src:"http:"===window.location.protocol?"http://openweathermap.org/img/wn/".concat(t.weather[0].icon,"@2x.png"):"https://openweathermap.org/img/wn/".concat(t.weather[0].icon,"@2x.png"),alt:"Weather condition"}),Object(b.jsx)("h4",{className:"mb-4 text-capitalize",children:t.weather[0].description}),Object(b.jsxs)(f.a,{children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:Object(b.jsx)("h5",{className:"mb-0",children:"Weather Details \ud83d\udcdc"})}),Object(b.jsx)("th",{children:Object(b.jsx)(o.a,{variant:"primary",onClick:function(){r.push("/forecast/".concat(n))},children:"Weather Forecast"})})]})}),Object(b.jsxs)("tbody",{children:[Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Temperature Range\ud83c\udf21"}),Object(b.jsxs)("td",{children:[t.main.temp_min,"\xb0C - ",t.main.temp_max,"\xb0C"]})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Temperature Feels Like\ud83c\udf21"}),Object(b.jsxs)("td",{children:[t.main.feels_like,"\xb0C"]})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Humidity\ud83d\udca7"}),Object(b.jsxs)("td",{children:[t.main.humidity,"%"]})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Pressure \u2601\ufe0f"}),Object(b.jsxs)("td",{children:[t.main.pressure,"hPa"]})]})]})]})]})},g=a(24),v=a(25),y=function(e){var t=e.data,a=e.searchForecast,n=e.invalidForecast,r=Object(j.e)(),s=Object(j.f)();Object(c.useEffect)((function(){a(s.id)}),[s.id,a]);var i=function(){r.push("/")};if(n)return Object(b.jsxs)("div",{className:"d-flex flex-column",children:[Object(b.jsx)("h4",{children:"Sorry, no forecast data available."}),Object(b.jsxs)(o.a,{variant:"primary my-3 px-4 align-self-start",onClick:i,children:[Object(b.jsx)("i",{className:"fas fa-chevron-left mr-1"})," Back to Main Page"]})]});if(!t)return Object(b.jsxs)("div",{className:"d-flex flex-column",children:[Object(b.jsx)(p,{message:"Loading the forecast..."}),Object(b.jsxs)(o.a,{variant:"primary my-4 px-4 align-self-center",onClick:i,children:[Object(b.jsx)("i",{className:"fas fa-chevron-left mr-1"})," Back to Main Page"]})]});var l=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],d=t.list,u="",h=function(e){for(var t=function(e,t){return Object(b.jsxs)("div",{className:"d-flex flex-row flex-lg-column align-items-center justify-content-center",children:[Object(b.jsxs)("h5",{className:"mb-0",children:[e,":00"]}),Object(b.jsx)("img",{src:(a=d[t].weather[0].icon,"http:"===window.location.protocol?"http://openweathermap.org/img/wn/".concat(a,"@2x.png"):"https://openweathermap.org/img/wn/".concat(a,"@2x.png")),alt:"Weather condition",className:"ml-auto ml-lg-0"}),Object(b.jsx)("span",{className:"mr-auto ml-n2 mr-lg-0 ml-lg-0 text-capitalize",children:d[t].weather[0].description}),Object(b.jsxs)("h5",{children:[d[t].main.temp,"\xb0C"]})]},t);var a},a=[],c=e;c<e+8&&!(c>39);c++){if(new Date(1e3*d[c].dt).getDate().toString()!==u)return a;var n=("0"+new Date(1e3*d[c].dt).getHours()).slice(-2);a.push(t(n,c))}return a};return Object(b.jsxs)("div",{className:"d-flex flex-column",children:[Object(b.jsxs)("h3",{className:"my-3 forecastTitle",children:["Weather forecast for"," ",Object(b.jsxs)("span",{children:[t.city.name,", ",t.city.country]})," ",":"]}),Object(b.jsx)(g.a,{defaultActiveKey:"0",children:d.reduce((function(e,t,a){var c=new Date(1e3*t.dt),n=[c.getDate().toString(),(c.getMonth()+1).toString(),l[c.getDay()]],r=n[0],s=n[1],i=n[2];return 0===a||r!==u?(u=r,e.push(function(e,t,a){return Object(b.jsxs)(v.a,{children:[Object(b.jsxs)(g.a.Toggle,{as:v.a.Header,eventKey:a.toString(),children:[Object(b.jsxs)("strong",{className:"mr-1",children:[u,"/",e]}),"(",t,")"]}),Object(b.jsx)(g.a.Collapse,{eventKey:a.toString(),children:Object(b.jsx)(v.a.Body,{className:"d-flex justify-content-around flex-column flex-lg-row",children:h(a)})})]},"0".concat(a.toString()))}(s,i,a)),e):e}),[])}),Object(b.jsxs)(o.a,{variant:"primary my-4 px-4 align-self-center",onClick:i,children:[Object(b.jsx)("i",{className:"fas fa-chevron-left mr-1"})," Back to Main Page"]})]})},w=a(15),N=a.n(w),k=a(20),S=a(46),C=a.n(S).a.create({baseURL:"https://api.openweathermap.org/data/2.5",params:{appid:"e46dab1c8e20e844409966b6a2c6d35c",units:"metric"}}),F=function(e){var t=Object(c.useState)(null),a=Object(s.a)(t,2),n=a[0],r=a[1],i=Object(c.useState)(null),l=Object(s.a)(i,2),j=l[0],o=l[1],d=Object(c.useState)(""),u=Object(s.a)(d,2),h=u[0],b=u[1],x=Object(c.useState)(!1),m=Object(s.a)(x,2),p=m[0],f=m[1],O=Object(c.useState)(!1),g=Object(s.a)(O,2),v=g[0],y=g[1],w=Object(c.useState)(""),S=Object(s.a)(w,2),F=S[0],I=S[1];return Object(c.useEffect)((function(){e&&function(){var e=Object(k.a)(N.a.mark((function e(t){var a,c,n,i;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(s.a)(t,2),c=a[0],n=a[1],e.prev=1,e.next=4,C.get("/weather",{params:{lat:c,lon:n}});case 4:i=e.sent,b(i.data.id),r(i.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()(e)}),[e]),[n,j,h,function(){var e=Object(k.a)(N.a.mark((function e(t){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,C.get("/weather",{params:{q:t}});case 5:a=e.sent,r(a.data),b(a.data.id),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),f(!0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),Object(c.useCallback)(function(){var e=Object(k.a)(N.a.mark((function e(t){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I(t),e.prev=1,F){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,C.get("/forecast",{params:{id:F}});case 6:a=e.sent,y(!1),o(a.data),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),y(!0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),[F]),p,f,v]},I=function(){var e=Object(c.useState)(!1),t=Object(s.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(null),i=Object(s.a)(r,2),l=i[0],j=i[1];Object(c.useEffect)((function(){(function(){var e=Object(k.a)(N.a.mark((function e(){var t,a,c,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o();case 3:t=e.sent,a=t.coords,c=a.latitude,r=a.longitude,j([c,r]),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),1===e.t0.code&&n(!0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var o=function(){return new Promise((function(e,t){navigator.geolocation.getCurrentPosition(e,t)}))};return[a,l]},D=function(){var e=I(),t=Object(s.a)(e,2),a=t[0],c=t[1],n=F(c),r=Object(s.a)(n,8),o=r[0],d=r[1],u=r[2],h=r[3],m=r[4],p=r[5],f=r[6],g=r[7];return Object(b.jsxs)(i.a,{children:[Object(b.jsx)("h1",{className:"pt-5 pb-3 mb-0 text-center",children:"Weather App \u26c5\ufe0f"}),Object(b.jsxs)(l.a,{children:[Object(b.jsx)(j.a,{path:["/","/weather-app"],exact:!0,render:function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(x,{search:h,invalidInput:p,setInvalidInput:f}),Object(b.jsx)(O,{data:o,location:c,userReject:a,cityId:u})]})}}),Object(b.jsx)(j.a,{path:"/forecast/:id",exact:!0,render:function(){return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(y,{data:d,searchForecast:m,invalidForecast:g})})}})]})]})};r.a.render(Object(b.jsx)(D,{}),document.querySelector("#root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.5cd10482.chunk.js.map