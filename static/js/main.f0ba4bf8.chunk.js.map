{"version":3,"sources":["components/SearchBar.js","components/Loading.js","components/CurrentWeather.js","components/ForecastWeather.js","api/weather.js","hook/useWeather.js","hook/useLocation.js","components/App.js","index.js"],"names":["SearchBar","search","invalidInput","setInvalidInput","useState","searchTerm","setSearchTerm","Form","onSubmit","e","preventDefault","InputGroup","className","FormControl","placeholder","value","onChange","target","Append","Button","variant","Loading","message","Spinner","animation","style","fontWeight","letterSpacing","CurrentWeather","data","location","userReject","cityId","history","useHistory","color","name","sys","country","main","temp","src","weather","icon","alt","description","Table","onClick","push","temp_min","temp_max","feels_like","humidity","pressure","ForecastWeather","searchForecast","invalidForecast","params","useParams","useEffect","id","dayArr","list","date","renderDivs","i","divJSX","hour","index","divsArr","j","Date","dt","getDate","toString","getHours","slice","city","Accordion","defaultActiveKey","reduce","acc","elem","dateDetails","getMonth","getDay","tmpDate","month","day","Card","Toggle","as","Header","eventKey","Collapse","Body","cardJSX","axios","create","baseURL","appid","process","units","useWeather","weatherData","setWeatherData","forecastData","setForecastData","setCityId","setInvalidForecast","query","setQuery","a","lat","lon","get","res","console","log","searchByCoords","q","useCallback","useLocation","setUserReject","setLocation","getCoords","coords","latitude","longitude","code","getLocation","Promise","rej","navigator","geolocation","getCurrentPosition","App","searchByCityName","Container","path","exact","render","ReactDOM","document","querySelector"],"mappings":"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","file":"static/js/main.f0ba4bf8.chunk.js","sourcesContent":["import React, { useState } from \"react\";\nimport Button from 'react-bootstrap/Button'\nimport Form from 'react-bootstrap/Form'\nimport FormControl from 'react-bootstrap/FormControl'\nimport InputGroup from 'react-bootstrap/InputGroup'\nimport \"./App.scss\";\n\nconst SearchBar = ({ search, invalidInput, setInvalidInput }) => {\n  const [searchTerm, setSearchTerm] = useState(\"\");\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n    search(searchTerm);\n    setSearchTerm(\"\");\n  };\n\n  const onInputChange = (e) => {\n    setSearchTerm(e.target.value);\n    setInvalidInput(false);\n  };\n\n  return (\n    <div>\n      <Form onSubmit={onSubmit}>\n        <InputGroup className={invalidInput ? \"mb-1\" : \"mb-4\"}>\n          <FormControl\n            placeholder=\"Search for a city...\"\n            value={searchTerm}\n            onChange={onInputChange}\n          />\n          <InputGroup.Append>\n            <Button variant=\"success pb-1\">\n              <i className=\"fas fa-search\"></i>\n            </Button>\n          </InputGroup.Append>\n        </InputGroup>\n      </Form>\n      {invalidInput ? (\n        <p className=\"text-danger ml-1\">Invalid input! Please try again.</p>\n      ) : (\n        \"\"\n      )}\n    </div>\n  );\n};\n\nexport default SearchBar;\n","import Spinner from 'react-bootstrap/Spinner'\nimport \"./App.scss\";\nimport React from \"react\";\n\nconst Loading = ({ message }) => {\n  return (\n    <div className=\"d-flex align-items-center justify-content-center p-4 bg-grey rounded\">\n      <Spinner animation=\"border\" variant=\"dark\" />\n      <h4 style={{ fontWeight: '400', letterSpacing: '0.4px' }} className=\"mb-n1 ml-2\">{message}</h4>\n    </div>\n  );\n};\n\nexport default Loading;\n","import React from \"react\";\nimport Loading from \"./Loading\";\nimport { useHistory } from \"react-router-dom\";\nimport Button from \"react-bootstrap/Button\";\nimport Table from \"react-bootstrap/Table\";\nimport \"./App.scss\";\n\nconst CurrentWeather = ({ data, location, userReject, cityId }) => {\n  const history = useHistory();\n\n  if (!location && !userReject && !data) {\n    return <Loading message={\"Loading your location...\"} />;\n  }\n\n  if (!data && !userReject) {\n    return <Loading message={\"Loading weather data...\"} />;\n  }\n\n  if (!data && userReject) {\n    return (\n      <div className=\"d-flex flex-column align-items-center p-4 bg-grey rounded\">\n        <h4 className=\"mb-0\" style={{ color: \"#595260\" }}>\n          <i className=\"fas fa-search mr-2\"></i>Search for a city for weather\n          data!\n        </h4>\n      </div>\n    );\n  }\n\n  const onClick = () => {\n    history.push(`/forecast/${cityId}`);\n  };\n\n  return (\n    <div className=\"d-flex flex-column align-items-center p-4 bg-grey rounded\">\n      <h2>\n        {data.name}, {data.sys.country}\n      </h2>\n      <h3 className=\"mb-0\">{data.main.temp}°C</h3>\n      <img\n        src={`https://openweathermap.org/img/wn/${data.weather[0].icon}@2x.png`}\n        alt=\"Weather condition\"\n      />\n      <h4 className=\"mb-4 text-capitalize\">{data.weather[0].description}</h4>\n\n      <Table>\n        <thead>\n          <tr>\n            <th>\n              <h5 className=\"mb-0\">Weather Details 📜</h5>\n            </th>\n            <th>\n              <Button variant=\"primary\" onClick={onClick}>\n                Weather Forecast\n              </Button>\n            </th>\n          </tr>\n        </thead>\n\n        <tbody>\n          <tr>\n            <td>Temperature Range🌡</td>\n            <td>\n              {data.main.temp_min}°C - {data.main.temp_max}°C\n            </td>\n          </tr>\n          <tr>\n            <td>Temperature Feels Like🌡</td>\n            <td>{data.main.feels_like}°C</td>\n          </tr>\n          <tr>\n            <td>Humidity💧</td>\n            <td>{data.main.humidity}%</td>\n          </tr>\n          <tr>\n            <td>Pressure ☁️</td>\n            <td>{data.main.pressure}hPa</td>\n          </tr>\n        </tbody>\n      </Table>\n    </div>\n  );\n};\n\nexport default CurrentWeather;\n","import React, { useEffect } from \"react\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport Accordion from \"react-bootstrap/Accordion\";\nimport Button from \"react-bootstrap/Button\";\nimport Card from \"react-bootstrap/Card\";\nimport \"./App.scss\";\nimport Loading from \"./Loading\";\n\nconst ForecastWeather = ({ data, searchForecast, invalidForecast }) => {\n  const history = useHistory();\n  const params = useParams();\n\n  useEffect(() => {\n    searchForecast(params.id);\n  }, [params.id, searchForecast]);\n\n  const onClick = () => {\n    history.push(\"/\");\n  };\n\n  if (invalidForecast) {\n    return (\n      <div className=\"d-flex flex-column\">\n        <h4>Sorry, no forecast data available.</h4>\n        <Button variant=\"primary my-3 px-4 align-self-start\" onClick={onClick}>\n          <i className=\"fas fa-chevron-left mr-1\"></i> Back to Main Page\n        </Button>\n      </div>\n    );\n  }\n\n  if (!data)\n    return (\n      <div className=\"d-flex flex-column\">\n        <Loading message={\"Loading the forecast...\"} />\n        <Button variant=\"primary my-4 px-4 align-self-center\" onClick={onClick}>\n          <i className=\"fas fa-chevron-left mr-1\"></i> Back to Main Page\n        </Button>\n      </div>\n    );\n\n  const dayArr = [\n    \"Sunday\",\n    \"Monday\",\n    \"Tuesday\",\n    \"Wednesday\",\n    \"Thursday\",\n    \"Friday\",\n    \"Saturday\",\n  ];\n  const { list } = data;\n  let date = \"\";\n\n  const renderDivs = (i) => {\n    const divJSX = (hour, index) => {\n      return (\n        <div\n          key={index}\n          className=\"d-flex flex-row flex-lg-column align-items-center justify-content-center\"\n        >\n          <h5 className=\"mb-0\">{hour}:00</h5>\n          <img\n            src={`https://openweathermap.org/img/wn/${list[index].weather[0].icon}@2x.png`}\n            alt=\"Weather condition\"\n            className=\"ml-auto ml-lg-0\"\n          />\n          <span className=\"mr-auto ml-n2 mr-lg-0 ml-lg-0 text-capitalize\">\n            {list[index].weather[0].description}\n          </span>\n          <h5>{list[index].main.temp}°C</h5>\n        </div>\n      );\n    };\n\n    const divsArr = [];\n    for (let j = i; j < i + 8; j++) {\n      if (j > 39) break;\n      const tmpDate = new Date(list[j].dt * 1000).getDate().toString();\n      if (tmpDate !== date) return divsArr;\n      const hour = (\"0\" + new Date(list[j].dt * 1000).getHours()).slice(-2);\n      divsArr.push(divJSX(hour, j));\n    }\n    return divsArr;\n  };\n\n  const renderCard = () => {\n    const cardJSX = (month, day, i) => {\n      return (\n        <Card key={`0${i.toString()}`}>\n          <Accordion.Toggle as={Card.Header} eventKey={i.toString()}>\n            <strong className=\"mr-1\">\n              {date}/{month}\n            </strong>\n            ({day})\n          </Accordion.Toggle>\n          <Accordion.Collapse eventKey={i.toString()}>\n            <Card.Body className=\"d-flex justify-content-around flex-column flex-lg-row\">\n              {renderDivs(i)}\n            </Card.Body>\n          </Accordion.Collapse>\n        </Card>\n      );\n    };\n\n    return list.reduce((acc, elem, i) => {\n      const dateDetails = new Date(elem.dt * 1000);\n      const [tmpDate, month, day] = [\n        dateDetails.getDate().toString(),\n        (dateDetails.getMonth() + 1).toString(),\n        dayArr[dateDetails.getDay()],\n      ];\n      if (i === 0 || tmpDate !== date) {\n        date = tmpDate;\n        acc.push(cardJSX(month, day, i));\n        return acc;\n      }\n      return acc;\n    }, []);\n  };\n\n  return (\n    <div className=\"d-flex flex-column\">\n      <h3 className=\"my-3 forecastTitle\">\n        Weather forecast for{\" \"}\n        <span>\n          {data.city.name}, {data.city.country}\n        </span>{\" \"}\n        :\n      </h3>\n      <Accordion defaultActiveKey=\"0\">{renderCard()}</Accordion>\n      <Button variant=\"primary my-4 px-4 align-self-center\" onClick={onClick}>\n        <i className=\"fas fa-chevron-left mr-1\"></i> Back to Main Page\n      </Button>\n    </div>\n  );\n};\n\nexport default ForecastWeather;\n","import axios from \"axios\";\n\n// Create new instance of axios with custom config\nexport default axios.create({\n  baseURL: \"https://api.openweathermap.org/data/2.5\",\n  params: {\n    appid: process.env.REACT_APP_WEATHER_API_KEY,\n    units: 'metric',\n  },\n});\n","import { useState, useEffect, useCallback } from \"react\";\nimport weather from \"../api/weather\";\n\nconst useWeather = (location) => {\n  const [weatherData, setWeatherData] = useState(null);\n  const [forecastData, setForecastData] = useState(null);\n  const [cityId, setCityId] = useState(\"\");\n  const [invalidInput, setInvalidInput] = useState(false);\n  const [invalidForecast, setInvalidForecast] = useState(false);\n  const [query, setQuery] = useState(\"\");\n\n  // Run only after getting user location\n  useEffect(() => {\n    const searchByCoords = async ([lat, lon]) => {\n      try {\n        const res = await weather.get(\"/weather\", {\n          params: {\n            lat,\n            lon,\n          },\n        });\n        setCityId(res.data.id);\n        setWeatherData(res.data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    if (location) {\n      searchByCoords(location);\n    }\n  }, [location]);\n\n  const searchByCityName = async (searchTerm) => {\n    try {\n      if (!searchTerm) return;\n      const res = await weather.get(\"/weather\", {\n        params: {\n          q: searchTerm,\n        },\n      });\n      setWeatherData(res.data);\n      setCityId(res.data.id);\n    } catch (err) {\n      setInvalidInput(true);\n    }\n  };\n\n  const searchForecast = useCallback(\n    async (searchTerm) => {\n      setQuery(searchTerm);\n      try {\n        if (!query) return;\n        const res = await weather.get(\"/forecast\", {\n          params: {\n            id: query,\n          },\n        });\n        setInvalidForecast(false);\n        setForecastData(res.data);\n      } catch (err) {\n        setInvalidForecast(true);\n      }\n    },\n    [query]\n  );\n\n  return [\n    weatherData,\n    forecastData,\n    cityId,\n    searchByCityName,\n    searchForecast,\n    invalidInput,\n    setInvalidInput,\n    invalidForecast,\n  ];\n};\n\nexport default useWeather;\n","import { useState, useEffect } from \"react\";\n\nconst useLocation = () => {\n  const [userReject, setUserReject] = useState(false);\n  const [location, setLocation] = useState(null);\n\n  // Run at initial render only\n  useEffect(() => {\n    const getLocation = async () => {\n      try {\n        const data = await getCoords();\n        const { latitude: lat, longitude: lon } = data.coords;\n        setLocation([lat, lon]);\n        // setLocationLoading(false);\n      } catch (err) {\n        if (err.code === 1) {\n          setUserReject(true);\n        }\n      }\n    };\n    getLocation();\n  }, []);\n\n  const getCoords = () => {\n    return new Promise((res, rej) => {\n      navigator.geolocation.getCurrentPosition(res, rej);\n    });\n  };\n\n  return [userReject, location];\n};\n\nexport default useLocation;\n","import React from 'react';\nimport Container from 'react-bootstrap/Container';\nimport './App.scss';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\nimport SearchBar from './SearchBar';\nimport CurrentWeather from './CurrentWeather';\nimport ForecastWeather from './ForecastWeather';\nimport useWeather from '../hook/useWeather';\nimport useLocation from '../hook/useLocation';\n\nconst App = () => {\n  const [userReject, location] = useLocation();\n  const [\n    weatherData,\n    forecastData,\n    cityId,\n    searchByCityName,\n    searchForecast,\n    invalidInput,\n    setInvalidInput,\n    invalidForecast,\n  ] = useWeather(location);\n\n  return (\n    <Container>\n      <h1 className=\"pt-5 pb-3 mb-0 text-center\">Weather App ⛅️</h1>\n      <Router>\n        <Route\n          path={['/', '/weather-app']}\n          exact\n          render={() => (\n            <>\n              <SearchBar\n                search={searchByCityName}\n                invalidInput={invalidInput}\n                setInvalidInput={setInvalidInput}\n              />\n              <CurrentWeather\n                data={weatherData}\n                location={location}\n                userReject={userReject}\n                cityId={cityId}\n              />\n            </>\n          )}\n        />\n        <Route\n          path=\"/forecast/:id\"\n          exact\n          render={() => (\n            <>\n              <ForecastWeather\n                data={forecastData}\n                searchForecast={searchForecast}\n                invalidForecast={invalidForecast}\n              />\n            </>\n          )}\n        />\n      </Router>\n    </Container>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(\n    <App />,\n    document.querySelector('#root')\n);"],"sourceRoot":""}